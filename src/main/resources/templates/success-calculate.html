<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compound Interest Calculator</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />

</head>
<body>

<!-- Calculator Form -->
<div class="container mt-5">
  <h1>Compound Interest Calculator - Success Calculate</h1>
  <p class="description">Enter the total amount, months duration and interest
    and Find the total compound interest of your Loan.</p>
  <form action="#" class="search-form" th:action="@{/calculator}"  th:object="${calculator}" th:method="POST" >

    <div class="mb-3">
      <label for="offerName" class="form-label">Name of Offer</label>
      <input type="text" class="form-control  mb-4 w-25" id="offerName" th:field="*{offerName}" aria-describedby="offerNameHelp" placeholder="Enter a name to save this offer"  />
      <small
              th:if="${#fields.hasErrors('offerName')}"
              th:errors="*{offerName}"
              class="alert alert-danger">
      </small>
    </div>

    <div class="mb-3">
      <label for="amount" class="form-label">Amount(*)</label>
      <input type="text" class="form-control  mb-4 w-25" id="amount" th:field="*{amount}" aria-describedby="amountHelp" placeholder="Enter Amount" />

      <small id="amountHelp"
             th:if="${#fields.hasErrors('amount')}"
             th:errors="*{amount}"
             class="error"></small>

      <!--      <small id="amountHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>-->
    </div>

    <div class="mb-3">
      <label for="interest" class="form-label">Interest(*) </label>
      <input type="text" class="form-control mb-4 w-25" id="interest" th:field="*{interest}" aria-describedby="interestHelp" placeholder="Enter Interest Rate" />
      <small
              th:if="${#fields.hasErrors('interest')}"
              th:errors="*{interest}"
              class="alert alert-danger">
      </small>
    </div>

    <div class="mb-3">
      <label for="months" class="form-label">Months(*) </label>
      <input type="text" class="form-control mb-4 w-25" id="months" th:field="*{months}" aria-describedby="monthsHelp" placeholder="Enter Number of Months"/>
      <small
              th:if="${#fields.hasErrors('months')}"
              th:errors="*{months}"
              class="alert alert-danger">
      </small>
    </div>

    <div class="alert alert-success mb-4 w-25" role="alert" th:if="${totalInterestAmount != null}" style="margin-top: 20px;">
      <label class="form-label">
        <p th:text="|Total Interest Amount : ${totalInterestAmount}|"></p>
      </label>
    </div>
    <div class="alert alert-info mb-4 w-25" role="alert" th:if="${totalLoanAmount != null}" style="margin-top: 20px;">
      <label class="form-label">
        <p  th:text="|Total Loan Amount : ${totalLoanAmount}|"></p>
      </label>
    </div>
    <button type="submit" class="btn btn-primary col-3 mb-4">Find</button>
  </form>
  <!-- Save Form -->
  <form th:action="@{/saveLoanInfo}" th:object="${calculator}" th:method="POST">
    <input type="hidden" th:field="*{offerName}" />
    <input type="hidden" th:field="*{amount}" />
    <input type="hidden" th:field="*{interest}" />
    <input type="hidden" th:field="*{months}" />
    <input type="hidden" th:field="*{loanAmount}" />
    <input type="hidden" th:field="*{interestAmount}"/>
    <!-- Button to save the data -->
    <button type="submit" class="btn btn-primary col-3 mb-4">Save</button>
  </form>
  <!--    <p th:field="" class="form-control" id="totalAmountLoan"></p>-->
</div>
</body>
</html>